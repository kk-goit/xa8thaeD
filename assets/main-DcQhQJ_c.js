import{a as p}from"./vendor-BAvsyV0G.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const f=document.querySelector(".mobile-menu"),h=document.querySelector(".mobile-menu-open-btn"),L=document.querySelector(".mobile-menu-close-btn");h.addEventListener("click",()=>{f.classList.add("is-open")});L.addEventListener("click",()=>{f.classList.remove("is-open")});document.addEventListener("DOMContentLoaded",()=>{const t=window.location.pathname;document.querySelectorAll(".nav-item .nav-link").forEach(e=>{e.closest(".nav-item").classList.toggle("active",t.endsWith(e.getAttribute("href").substring(1)))})});const E={baseURL:"https://your-energy.b.goit.study/api",timeout:1e4,headers:{"Content-Type":"application/json"}},b=["Body parts","Muscles","Equipment"];class v{constructor(){this.api=p.create(E),this.api.interceptors.response.use(e=>e.data,e=>Promise.reject(e))}handleDefaultError(e){switch(e.status){case 400:return"Please check your input and try again.";case 404:return"This training page took a rest day. Please try again.";case 500:return"Our fitness server needs a quick breather. Please try again.";default:if(e.response){const{data:n}=e.response;return n.message||"Something unexpected happened"}else return e.request?e.request.statusText:`Error: ${e.message}`}}async getExercises(e={}){if(!e.page||!e.limit||typeof e.page!="number"||typeof e.limit!="number")return"Please specify page and items per page";try{return await this.api.get("/exercises",{params:e})}catch(r){switch(r.status){case 409:return"Select a filter to view results";case 500:return"Our fitness server needs a quick breather. Please try again.";default:return this.handleDefaultError(r)}}}async addRating(e,r,n,s){const i={rate:r,email:n,review:s};try{return await this.api.patch(`/exercises/${e}/rating`,i)}catch(o){switch(o.status){case 404:return"Exercise not found. Try exploring similar ones.";case 409:return"Looks like your email is already part of this exercise community!";default:return this.handleDefaultError(o)}}}async getExerciseById(e){try{return await this.api.get(`/exercises/${e}`)}catch(r){switch(r.status){case 404:return"Exercise not found. Try exploring similar ones.";case 409:return"Looks like your email is already part of this exercise community!";default:return this.handleDefaultError(r)}}}async getExercisesByFilter(e={}){if(!e.page||!e.limit||typeof e.page!="number"||typeof e.limit!="number")return"Please specify page and items per page";if(!b.includes(e.filter))return"Filter not found. Check out our available categories";try{return await this.api.get("/filters",{params:e})}catch(r){switch(r.status){case 404:return"The way to exercises not found. Try exploring similar ones.";default:return this.handleDefaultError(r)}}}async orderSubscription(e){if(!e)return"Email is not provided";try{return await this.api.post("/subscription",{email:e})}catch(r){switch(r.status){case 404:return"The way to subscription not found. Try exploring similar ones.";case 409:return"Looks like such a subscription is already part of this community!";default:return this.handleDefaultError(r)}}}async getExercisesByIdList(e){if(!e.length)return"Please specify list of exercises to get";const r=e.map(async s=>await this.getExerciseById(s));return(await Promise.allSettled(r)).filter(s=>s.status==="fulfilled").map(s=>s.value)}async getQuote(){try{return await this.api.get("/quote")}catch(e){return this.handleDefaultError(e)}}}const y=new v,u=new Date().toISOString().slice(0,10),l=document.querySelector(".blockquote-text"),d=document.querySelector(".quote-author"),a=JSON.parse(localStorage.getItem("quoteOfDay"));a&&a.date===u?(l.innerHTML=a.quote,d.innerHTML=a.author):y.getQuote().then(t=>{typeof t!="string"?(localStorage.setItem("quoteOfDay",JSON.stringify({quote:t.quote,author:t.author,date:u})),l.innerHTML=t.quote,d.innerHTML=t.author):console.log(t)});const c=document.querySelector(".group-list"),x=document.querySelector(".section-title");c.addEventListener("click",t=>{const e=t.target.closest(".group-list__item");e&&(console.log(e.dataset.name),x.innerHTML=`Exercises / <span class='exercises-category'>${e.dataset.name}</span>`)});const q=({filter:t,name:e,imgURL:r})=>`
    <div
      class="group-list__item"
      data-name="${e}"
    >
      <img
        class="group-list__item-image"
        src="${r}"
      >
      <div class="group-list__item-image-filter"></div>
      <div class="group-list__item-title">
        ${e}
      </div>
      <div class="group-list__item-subtitle">
        ${t}
      </div>
    </div>
  `,S=t=>t.map(q).join(""),w=t=>{if(!c)return;const e=S(t);c.innerHTML=e},T=async t=>await y.getExercisesByFilter(t),g=async({filter:t="Muscles",page:e=1,limit:r=12}={})=>{const n=await T({filter:t,page:e,limit:r});w(n.results)};c&&g();const m=Array.from(document.querySelectorAll(".exercises-menu-button")),M=t=>{const e=document.querySelector(".section-title");e.innerHTML="Exercises",m.forEach(r=>{r.classList.remove("active")}),t.classList.add("active"),g({filter:t.textContent})};m.forEach(t=>t.addEventListener("click",()=>M(t)));
//# sourceMappingURL=main-DcQhQJ_c.js.map
