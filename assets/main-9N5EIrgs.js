import{a as E,i as a}from"./vendor-v1Cmh7Ux.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const h=document.querySelector(".mobile-menu"),v=document.querySelector(".mobile-menu-open-btn"),S=document.querySelector(".mobile-menu-close-btn");v.addEventListener("click",()=>{h.classList.add("is-open")});S.addEventListener("click",()=>{h.classList.remove("is-open")});document.addEventListener("DOMContentLoaded",()=>{const r=window.location.pathname;document.querySelectorAll(".nav-item .nav-link").forEach(e=>{e.closest(".nav-item").classList.toggle("active",r.endsWith(e.getAttribute("href").substring(1)))})});const w={baseURL:"https://your-energy.b.goit.study/api",timeout:1e4,headers:{"Content-Type":"application/json"}},x=["Body parts","Muscles","Equipment"];class q{constructor(){this.api=E.create(w),this.api.interceptors.response.use(e=>e.data,e=>Promise.reject(e))}handleDefaultError(e){switch(e.status){case 400:return"Please check your input and try again.";case 404:return"This training page took a rest day. Please try again.";case 500:return"Our fitness server needs a quick breather. Please try again.";default:if(e.response){const{data:i}=e.response;return i.message||"Something unexpected happened"}else return e.request?e.request.statusText:`Error: ${e.message}`}}async getExercises(e={}){if(!e.page||!e.limit||typeof e.page!="number"||typeof e.limit!="number")return"Please specify page and items per page";try{return await this.api.get("/exercises",{params:e})}catch(t){switch(t.status){case 409:return"Select a filter to view results";case 500:return"Our fitness server needs a quick breather. Please try again.";default:return this.handleDefaultError(t)}}}async addRating(e,t,i,s){const o={rate:t,email:i,review:s};try{return await this.api.patch(`/exercises/${e}/rating`,o)}catch(n){switch(n.status){case 404:return"Exercise not found. Try exploring similar ones.";case 409:return"Looks like your email is already part of this exercise community!";default:return this.handleDefaultError(n)}}}async getExerciseById(e){try{return await this.api.get(`/exercises/${e}`)}catch(t){switch(t.status){case 404:return"Exercise not found. Try exploring similar ones.";case 409:return"Looks like your email is already part of this exercise community!";default:return this.handleDefaultError(t)}}}async getExercisesByFilter(e={}){if(!e.page||!e.limit||typeof e.page!="number"||typeof e.limit!="number")return"Please specify page and items per page";if(!x.includes(e.filter))return"Filter not found. Check out our available categories";try{return await this.api.get("/filters",{params:e})}catch(t){switch(t.status){case 404:return"The way to exercises not found. Try exploring similar ones.";default:return this.handleDefaultError(t)}}}async orderSubscription(e){if(!e)return"Email is not provided";try{return await this.api.post("/subscription",{email:e})}catch(t){switch(t.status){case 404:return"The way to subscription not found. Try exploring similar ones.";case 409:return"Looks like such a subscription is already part of this community!";default:return this.handleDefaultError(t)}}}async getExercisesByIdList(e){if(!e.length)return"Please specify list of exercises to get";const t=e.map(async s=>await this.getExerciseById(s));return(await Promise.allSettled(t)).filter(s=>s.status==="fulfilled").map(s=>s.value)}async getQuote(){try{return await this.api.get("/quote")}catch(e){return this.handleDefaultError(e)}}}const m=new q,g=new Date().toISOString().slice(0,10),f=document.querySelector(".blockquote-text"),y=document.querySelector(".quote-author"),c=JSON.parse(localStorage.getItem("quoteOfDay"));c&&c.date===g?(f.innerHTML=c.quote,y.innerHTML=c.author):m.getQuote().then(r=>{typeof r!="string"?(localStorage.setItem("quoteOfDay",JSON.stringify({quote:r.quote,author:r.author,date:g})),f.innerHTML=r.quote,y.innerHTML=r.author):console.log(r)});const u=document.querySelector(".group-list"),T=document.querySelector(".section-title");u.addEventListener("click",r=>{const e=r.target.closest(".group-list__item");e&&(console.log(e.dataset.name),T.innerHTML=`Exercises / <span class='exercises-category'>${e.dataset.name}</span>`)});const P=({filter:r,name:e,imgURL:t})=>`
    <div
      class="group-list__item"
      data-name="${e}"
    >
      <img
        class="group-list__item-image"
        src="${t}"
      >
      <div class="group-list__item-image-filter"></div>
      <div class="group-list__item-title">
        ${e}
      </div>
      <div class="group-list__item-subtitle">
        ${r}
      </div>
    </div>
  `,M=r=>r.map(P).join(""),O=r=>{if(!u)return;const e=M(r);u.innerHTML=e},C=async r=>await m.getExercisesByFilter(r),L=async({filter:r="Muscles",page:e=1,limit:t=12}={})=>{const i=await C({filter:r,page:e,limit:t});O(i.results)};u&&L();const b=Array.from(document.querySelectorAll(".exercises-menu-button")),_=r=>{const e=document.querySelector(".section-title");e.innerHTML="Exercises",b.forEach(t=>{t.classList.remove("active")}),r.classList.add("active"),L({filter:r.textContent})};b.forEach(r=>r.addEventListener("click",()=>_(r)));const l=getComputedStyle(document.documentElement),B=l.getPropertyValue("--color-popup-bg").trim(),D=l.getPropertyValue("--color-popup-txt").trim(),I=l.getPropertyValue("--color-popup-main").trim(),k=l.getPropertyValue("--color-popup-line").trim();class H{constructor(){a.settings({timeout:5e3,resetOnHover:!0,position:"topLeft",transitionIn:"fadeInDown",transitionOut:"fadeOutUp",progressBar:!0,progressBarColor:k,backgroundColor:B,titleColor:I,messageColor:D,theme:"dark"})}success(e,t){a.success({title:e,message:t})}error(e,t){a.error({title:e,message:t})}warning(e,t){a.warning({title:e,message:t})}settings(e){a.settings(e)}}const d=new H,p=document.querySelector(".footer-form");p.addEventListener("submit",async r=>{r.preventDefault();const e=p.elements.email.value;if(/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)){try{const i=await m.orderSubscription(e);d.success("Success","Subscription successful!")}catch(i){d.error("Error","Subscription failed: "+i)}p.elements.email.value=""}else d.warning("Warning","Please enter a valid email address.")});
//# sourceMappingURL=main-9N5EIrgs.js.map
