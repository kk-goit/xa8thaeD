{"version":3,"file":"favorites.js","sources":["../src/js/favorites.js"],"sourcesContent":["import '../css/sct-favorites.css';\n\nimport {\n    replaceInnerHtmlWithLoader,\n    removeLoaderFromElement,\n} from './loader.js';\nimport yourEnergy from './api/your-energy-api.js';\nimport { renderUserListExercises } from './exercises.js';\nimport { removeFromFavorites } from './exercise-info.js';\n\nconst favorites = document.querySelector('.favorites');\n\nconst paginationContainer = document.querySelector('.pagination');\nconst exercisesPerPage = 10;\nlet currentPage = 1;\n\nasync function renderExercisesPage(favoritesList, page = 1) {\n    const startIndex = (page - 1) * exercisesPerPage;\n    const endIndex = startIndex + exercisesPerPage;\n    const currentExercises = favoritesList.slice(startIndex, endIndex);\n\n    if (!currentExercises.length) {\n        favorites.innerHTML =\n            \"<p class='no-favorites'>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\";\n        return;\n    }\n    try {\n        const retrievedExercises = await yourEnergy.getExercisesByIdList(\n            currentExercises\n        );\n\n        renderUserListExercises(favorites, retrievedExercises);\n    } finally {\n        removeLoaderFromElement(favorites);\n    }\n}\n\nfunction renderPagination(favoritesList) {\n    const pageCount = Math.ceil(favoritesList.length / exercisesPerPage);\n    let paginationMarkup = '';\n\n    for (let i = 1; i <= pageCount; i++) {\n        paginationMarkup += `\n            <button class=\"pagination-button ${\n                i === currentPage ? 'active' : ''\n            }\" data-page=\"${i}\">\n                ${i}\n            </button>\n        `;\n    }\n\n    paginationContainer.innerHTML = paginationMarkup;\n\n    document.querySelectorAll('.pagination-button').forEach(button => {\n        button.addEventListener('click', () => {\n            currentPage = Number(button.dataset.page);\n            renderExercisesPage(favoritesList, currentPage);\n            renderPagination(favoritesList);\n        });\n    });\n}\n\nfunction renderUserListFavorites(listFavorites) {\n    renderExercisesPage(listFavorites, currentPage);\n    renderPagination(listFavorites);\n}\n\nfunction removeExercise(exerciseId) {\n    removeFromFavorites(exerciseId);\n}\n\nconst favoritesElement = document.querySelector('.favorites');\n\nif (favoritesElement) {\n    const favoriteExercises = JSON.parse(localStorage.getItem('favorites'));\n\n    if (favoriteExercises && Array.isArray(favoriteExercises)) {\n        replaceInnerHtmlWithLoader(favorites);\n        renderUserListFavorites(favoriteExercises);\n    } else {\n        favorites.innerHTML =\n            \"<p class='no-favorites'>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\";\n    }\n}\n\n"],"names":["favorites","paginationContainer","exercisesPerPage","currentPage","renderExercisesPage","favoritesList","page","startIndex","endIndex","currentExercises","retrievedExercises","yourEnergy","renderUserListExercises","removeLoaderFromElement","renderPagination","pageCount","paginationMarkup","i","button","renderUserListFavorites","listFavorites","favoritesElement","favoriteExercises","replaceInnerHtmlWithLoader"],"mappings":"kGAUA,MAAMA,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAsB,SAAS,cAAc,aAAa,EAC1DC,EAAmB,GACzB,IAAIC,EAAc,EAElB,eAAeC,EAAoBC,EAAeC,EAAO,EAAG,CACxD,MAAMC,GAAcD,EAAO,GAAKJ,EAC1BM,EAAWD,EAAaL,EACxBO,EAAmBJ,EAAc,MAAME,EAAYC,CAAQ,EAEjE,GAAI,CAACC,EAAiB,OAAQ,CAC1BT,EAAU,UACN,4MACJ,MACH,CACD,GAAI,CACA,MAAMU,EAAqB,MAAMC,EAAW,qBACxCF,CACZ,EAEQG,EAAwBZ,EAAWU,CAAkB,CAC7D,QAAc,CACNG,EAAwBb,CAAS,CACpC,CACL,CAEA,SAASc,EAAiBT,EAAe,CACrC,MAAMU,EAAY,KAAK,KAAKV,EAAc,OAASH,CAAgB,EACnE,IAAIc,EAAmB,GAEvB,QAASC,EAAI,EAAGA,GAAKF,EAAWE,IAC5BD,GAAoB;AAAA,+CAEZC,IAAMd,EAAc,SAAW,EAClC,gBAAec,CAAC;AAAA,kBACXA,CAAC;AAAA;AAAA,UAKfhB,EAAoB,UAAYe,EAEhC,SAAS,iBAAiB,oBAAoB,EAAE,QAAQE,GAAU,CAC9DA,EAAO,iBAAiB,QAAS,IAAM,CACnCf,EAAc,OAAOe,EAAO,QAAQ,IAAI,EACxCd,EAAoBC,EAAeF,CAAW,EAC9CW,EAAiBT,CAAa,CAC1C,CAAS,CACT,CAAK,CACL,CAEA,SAASc,EAAwBC,EAAe,CAC5ChB,EAAoBgB,EAAejB,CAAW,EAC9CW,EAAiBM,CAAa,CAClC,CAMA,MAAMC,EAAmB,SAAS,cAAc,YAAY,EAE5D,GAAIA,EAAkB,CAClB,MAAMC,EAAoB,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EAElEA,GAAqB,MAAM,QAAQA,CAAiB,GACpDC,EAA2BvB,CAAS,EACpCmB,EAAwBG,CAAiB,GAEzCtB,EAAU,UACN,2MAEZ"}